import{l as e,m as t,n,s as r,t as i}from"./index-Dy5shDWX.js";import{t as a}from"./Loading-Dkvs0utl.js";import{r as o,t as s}from"./Header-BUxtEV5o.js";var c=t(e()),l=t(n());function u(){let[e,t]=(0,c.useState)([]),{role:n,user:u,api:d,token:f,setCurrency:p}=(0,c.useContext)(i),m=r(),[h,g]=(0,c.useState)(!0),[_,v]=(0,c.useState)(1);for((0,c.useEffect)(()=>{var n=d+`VacayPlansControllerr/getPlanInfo/`+u.userId;e.length==0&&fetch(n,{method:`GET`,headers:{Authorization:`Bearer `+f,"Content-Type":`application/json`}}).then(async e=>{t(await e.json()),g(!1)})},[_]);h==1;)return(0,l.jsx)(a,{});let y=e=>{m(`/viewVacayPlan`,{state:{plan:e}})},b=n=>{n==2?t(e.sort((e,t)=>new Date(e.vacation.vacationStartDate)-new Date(t.vacation.vacationStartDate))):n==3?t(e.sort((e,t)=>new Date(t.vacation.vacationStartDate)-new Date(e.vacation.vacationStartDate))):n==4?t(e.sort((e,t)=>e.vacayPlan.planBudget-t.vacayPlan.planBudget)):n==5&&t(e.sort((e,t)=>t.vacayPlan.planBudget-e.vacayPlan.planBudget)),v(n)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s,{}),(0,l.jsx)(`div`,{className:`container`,children:(0,l.jsxs)(`div`,{className:`home`,children:[(0,l.jsx)(`h2`,{children:`Viewing all vacation plans`}),(0,l.jsx)(`hr`,{}),(0,l.jsxs)(`select`,{value:_,onChange:e=>b(e.target.value),children:[(0,l.jsx)(`option`,{value:1,children:`Filter by:`}),(0,l.jsx)(`option`,{value:2,children:`Date (ascending)`}),(0,l.jsx)(`option`,{value:3,children:`Date (descending)`}),(0,l.jsx)(`option`,{value:4,children:`lowest - highest budget`}),(0,l.jsx)(`option`,{value:5,children:`Highest - lowest budget`})]}),e.length==0?(0,l.jsx)(`div`,{className:`home-no-plans`,children:(0,l.jsx)(`h3`,{children:`No plans created yet`})}):(0,l.jsx)(`div`,{className:`home-plans`,children:e.map((e,t)=>(0,l.jsxs)(`div`,{className:`plan`,onClick:()=>y(e),children:[(0,l.jsxs)(`p`,{className:`planLeft`,children:[`Vacation plan for `,e.destination.destinationName]}),(0,l.jsxs)(`p`,{className:`planRight`,children:[e.vacayDaysLeft,` days left`]})]},t))})]})}),(0,l.jsx)(o,{})]})}var d=u;export{d as default};